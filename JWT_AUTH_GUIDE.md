# üîê JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ OilFusion

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ –∑–∞—â–∏—â—ë–Ω JWT —Ç–æ–∫–µ–Ω–æ–º –≤ URL. –í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ `/admin` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç:

```
http://localhost:5000/–í–ê–®_–¢–û–ö–ï–ù/admin/
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –±–µ–∑ –∑–Ω–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã —Å —Ä–∞–∑–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è  
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å** - –ª–µ–≥–∫–æ –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø, –∏–∑–º–µ–Ω–∏–≤ —Ç–æ–∫–µ–Ω  
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç PyJWT==2.8.0 –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏.

### –®–∞–≥ 2: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

```bash
python generate_token.py
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
üîê –ì–ï–ù–ï–†–ê–¢–û–† JWT –¢–û–ö–ï–ù–ê –î–õ–Ø –ê–î–ú–ò–ù–ö–ò OILFUSION
...
‚úÖ –¢–û–ö–ï–ù –£–°–ü–ï–®–ù–û –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù!

üîë –í–ê–® –¢–û–ö–ï–ù:
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ URL:

```
http://localhost:5000/–í–ê–®_–¢–û–ö–ï–ù/admin/
```

## üìç –í—Å–µ URL —Å —Ç–æ–∫–µ–Ω–æ–º

| –†–∞–∑–¥–µ–ª | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| –î–∞—à–±–æ—Ä–¥ | `http://localhost:5000/<TOKEN>/admin/` | –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∏ |
| –û –∫–æ–º–ø–∞–Ω–∏–∏ | `http://localhost:5000/<TOKEN>/admin/about` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ "–û –∫–æ–º–ø–∞–Ω–∏–∏" |
| –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è | `http://localhost:5000/<TOKEN>/admin/personalization` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π |
| –ë–ª–æ–≥ - —Å–ø–∏—Å–æ–∫ | `http://localhost:5000/<TOKEN>/admin/blog` | –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π |
| –ë–ª–æ–≥ - —Å–æ–∑–¥–∞—Ç—å | `http://localhost:5000/<TOKEN>/admin/blog/new` | –ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è |
| –ë–ª–æ–≥ - –ø—Ä–∞–≤–∏—Ç—å | `http://localhost:5000/<TOKEN>/admin/blog/<INDEX>` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é |

## üîß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ - –ø–æ–¥—Ä–æ–±–Ω–µ–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
python generate_token.py
```

–í–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:
1. 1 –¥–µ–Ω—å
2. 1 –Ω–µ–¥–µ–ª—è
3. 1 –º–µ—Å—è—Ü
4. **1 –≥–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**
5. –ù–∞–≤—Å–µ–≥–¥–∞ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
$ python generate_token.py

üîê –ì–ï–ù–ï–†–ê–¢–û–† JWT –¢–û–ö–ï–ù–ê –î–õ–Ø –ê–î–ú–ò–ù–ö–ò OILFUSION

üìÖ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞:
   1. 1 –¥–µ–Ω—å
   2. 1 –Ω–µ–¥–µ–ª—è
   3. 1 –º–µ—Å—è—Ü
   4. 1 –≥–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   5. –ù–∞–≤—Å–µ–≥–¥–∞

–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç (1-5) –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ 4: [Enter]

‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞...

‚úÖ –¢–û–ö–ï–ù –£–°–ü–ï–®–ù–û –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù!

üîë –í–ê–® –¢–û–ö–ï–ù:
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNzYwMzA1NDQwLCJpYXQiOjE3Mjg3NjkyNDAsImp0aSI6InJhbmRvbV9zdHJpbmcifQ.signature

üìä –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –¢–û–ö–ï–ù–ï:
   –°–æ–∑–¥–∞–Ω:        2024-10-16T12:00:00
   –ò—Å—Ç–µ–∫–∞–µ—Ç:      2025-10-16T12:00:00
   ID —Ç–æ–∫–µ–Ω–∞:     random_string

üåê URL –î–õ–Ø –î–û–°–¢–£–ü–ê –ö –ê–î–ú–ò–ù–ö–ï:
   http://localhost:5000/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.../admin/

üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª? (y/n): y
‚úÖ –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ —Ñ–∞–π–ª: admin_token.txt
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏** - —Ç–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å–∞–Ω SECRET_KEY  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è** - –∏—Å—Ç–µ–∫—à–∏–µ —Ç–æ–∫–µ–Ω—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞** - —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ JWT —Ç–æ–∫–µ–Ω—ã  
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è  
‚úÖ **403 –û—à–∏–±–∫–∞** - –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ  

### –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–æ–∫–µ–Ω–µ

```json
{
  "admin": true,           // —Ñ–ª–∞–≥ –∞–¥–º–∏–Ω–∞
  "exp": 1760305440,      // –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è
  "iat": 1728769240,      // –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
  "jti": "unique-id"      // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
}
```

### SECRET_KEY

**–í–∞–∂–Ω–æ!** –¢–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è SECRET_KEY –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–î–ª—è production **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–π SECRET_KEY:

```bash
# –í .env —Ñ–∞–π–ª–µ
SECRET_KEY=–≤–∞—à-–æ—á–µ–Ω—å-–¥–ª–∏–Ω–Ω—ã–π-–∏-—Å–ª–æ–∂–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
```

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ SECRET_KEY:

```python
import secrets
print(secrets.token_urlsafe(32))
```

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ

- ‚ùå **–ë—Ä—É—Ç—Ñ–æ—Ä—Å** - –¥–ª–∏–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (>100 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚ùå **–ü–æ–¥–¥–µ–ª–∫–∞** - —Ç–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å–∞–Ω –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏
- ‚ùå **–ü–æ–≤—Ç–æ—Ä** - –∏—Å—Ç–µ–∫—à–∏–µ —Ç–æ–∫–µ–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå **–ü–µ—Ä–µ—Ö–≤–∞—Ç** - –¥–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS

### –ß—Ç–æ –ù–ï –∑–∞—â–∏—â–µ–Ω–æ

‚ö†Ô∏è **–ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞ –≤ URL** - —Ç–æ–∫–µ–Ω –≤–∏–¥–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞  
‚ö†Ô∏è **HTTP** - —Ç–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS)  
‚ö†Ô∏è **XSS** - –µ—Å–ª–∏ –µ—Å—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç—å XSS, —Ç–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫—Ä–∞–¥–µ–Ω  

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production

1. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** - –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω
2. **–ö–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è** - —Ç–æ–∫–µ–Ω—ã –Ω–∞ 1 –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é
3. **–†–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω
4. **IP –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP –Ω–∞ —É—Ä–æ–≤–Ω–µ nginx/firewall
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ –ª–æ–≥–∞—Ö

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ 1 –¥–µ–Ω—å

```bash
$ python generate_token.py
# –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç 1
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ 1 –≥–æ–¥ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
$ python generate_token.py
# –ù–∞–∂–º–∏—Ç–µ Enter (–≤–∞—Ä–∏–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Windows CMD
set ADMIN_TOKEN=your-token-here

# Windows PowerShell
$env:ADMIN_TOKEN="your-token-here"

# Linux/Mac
export ADMIN_TOKEN="your-token-here"
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:5000/%ADMIN_TOKEN%/admin/
```

### 4. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞

```python
from app.config.settings import Config
from app.utils.auth import generate_admin_token

secret_key = Config.SECRET_KEY
token = generate_admin_token(secret_key, expires_hours=24)  # 1 –¥–µ–Ω—å

print(f"–¢–æ–∫–µ–Ω: {token}")
print(f"URL: http://localhost:5000/{token}/admin/")
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```python
from app.config.settings import Config
from app.utils.auth import verify_admin_token, get_token_info

secret_key = Config.SECRET_KEY
token = "your-token-here"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
is_valid = verify_admin_token(token, secret_key)
print(f"–¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω: {is_valid}")

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–∫–µ–Ω–µ
info = get_token_info(token, secret_key)
print(f"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: {info}")
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:

```bash
# Windows
type logs\app.log | findstr "—Ç–æ–∫–µ–Ω"

# Linux/Mac
cat logs/app.log | grep "—Ç–æ–∫–µ–Ω"
```

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥–µ:
```
2024-10-16 12:00:00 | INFO     | –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ (jti: abc123)
2024-10-16 12:05:00 | WARNING  | –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
2024-10-16 12:10:00 | WARNING  | –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –∏—Å—Ç–µ–∫—à–∏–º —Ç–æ–∫–µ–Ω–æ–º
```

## ‚ùì FAQ

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫?

–ü—Ä–æ—Å—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π:
```bash
python generate_token.py
```

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤?

–î–∞, –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Å–µ—Å—Å–∏–π.

### –ö–∞–∫ –æ—Ç–æ–∑–≤–∞—Ç—å —Ç–æ–∫–µ–Ω?

–ò–∑–º–µ–Ω–∏—Ç–µ SECRET_KEY –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ - –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã —Å—Ç–∞–Ω—É—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏.

### –¢–æ–∫–µ–Ω —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –¥–ª—è URL?

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. JWT —Ç–æ–∫–µ–Ω—ã –æ–±—ã—á–Ω–æ 100-200 —Å–∏–º–≤–æ–ª–æ–≤. –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–∞–∫–∏–µ –¥–ª–∏–Ω–Ω—ã–µ URL.

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π URL `/admin`?

–ù–µ—Ç, —Å—Ç–∞—Ä—ã–π URL –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –≤ URL.

### –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–∫–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º?

–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç 5 –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–≤—Å–µ–≥–¥–∞), –Ω–æ —ç—Ç–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production.

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –ë—ã–ª–æ (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞):
```
http://localhost:5000/admin/
http://localhost:5000/admin/about
http://localhost:5000/admin/blog
```

### –°—Ç–∞–ª–æ (—Å —Ç–æ–∫–µ–Ω–æ–º):
```
http://localhost:5000/<TOKEN>/admin/
http://localhost:5000/<TOKEN>/admin/about
http://localhost:5000/<TOKEN>/admin/blog
```

### –í—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É –≤—Å–µ —Å—Å—ã–ª–∫–∏ –≤ –º–µ–Ω—é –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–∫–µ–Ω –∏–∑ URL.

## üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **PyJWT 2.8.0** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- **secrets** (stdlib) - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏

HS256 (HMAC-SHA256) - —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –ø–æ–¥–ø–∏—Å—å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

- `app/utils/auth.py` - –º–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `app/routes/admin.py` - –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- `generate_token.py` - —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@require_admin_token`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –Ω–∞ –≤—Å–µ—Ö –∞–¥–º–∏–Ω—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö:

```python
@admin_bp.route('/<token>/admin/')
@require_admin_token
def dashboard(token):
    # –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω
    ...
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –∞–¥–º–∏–Ω–∫–∞ –∑–∞—â–∏—â–µ–Ω–∞ JWT —Ç–æ–∫–µ–Ω–æ–º!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python generate_token.py`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ URL: `http://localhost:5000/–í–ê–®_–¢–û–ö–ï–ù/admin/`

**–î–ª—è production:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–π SECRET_KEY –≤ `.env`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
3. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è
4. –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã

*Balance in every drop* ‚ú®
